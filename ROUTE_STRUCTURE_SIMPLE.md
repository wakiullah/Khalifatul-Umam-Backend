# тЬи ржирждрзБржи рж░рзБржЯ рж╕ржВржЧржаржи - рж╕ржВржХрзНрж╖рж┐ржкрзНржд ржЧрж╛ржЗржб

## ЁЯОп рж╕ржорж╕рзНржпрж╛ ржПржмржВ рж╕ржорж╛ржзрж╛ржи

### ржЖржЧрзЗ (рж╕ржорж╕рзНржпрж╛):
```
рж╕ржмржХрж┐ржЫрзБ /api/v1/dashboard/* ржП ржорж┐рж╢рзЗ ржЫрж┐рж▓
- ржкрж╛ржмрж▓рж┐ржХ GET рж░рзБржЯрж╕
- ржкрзНрж░рзЛржЯрзЗржХрзНржЯрзЗржб рж▓рзЗржЦрж╛рж░ рж░рзБржЯрж╕
тЖТ ржмрж┐ржнрзНрж░рж╛ржирзНрждрж┐ржХрж░ ржПржмржВ ржХржо рж╕ржВржЧржарж┐ржд
```

### ржПржЦржи (рж╕ржорж╛ржзрж╛ржи):
```
/api/v1/public/*      тЖР рж╕ржмрж╛рж░ ржЬржирзНржп ржкржбрж╝рж╛рж░ ржЕржирзБржорждрж┐ (GET)
/api/v1/dashboard/*   тЖР рж▓ржЧржЗржи ржПрж░ ржкрж░рзЗ рж▓рзЗржЦрж╛рж░ ржЕржирзБржорждрж┐ (POST, PATCH, DELETE)
```

---

## ЁЯУН рж╕рж╣ржЬ ржорзЗржорзЛржирж┐ржХ

**"Public ржирж╛ржорзЗрж░ ржЕрж░рзНрже рж╢рзБржзрзБ ржкржбрж╝рж╛"**
- `GET /api/v1/public/posts` тЬЕ ржХрж╛ржЬ ржХрж░рзЗ
- `POST /api/v1/public/posts` тЭМ ржХрж╛ржЬ ржХрж░рзЗ ржирж╛ (405 error)

**"Dashboard ржорж╛ржирзЗ рж▓рзЗржЦрж╛ ржПржмржВ рж╕рзБрж░ржХрзНрж╖рж┐ржд"**
- `POST /api/v1/dashboard/posts` тЬЕ TOKEN ржжрж┐ржпрж╝рзЗ ржХрж╛ржЬ ржХрж░рзЗ
- `POST /api/v1/dashboard/posts` тЭМ TOKEN ржЫрж╛ржбрж╝рж╛ ржХрж╛ржЬ ржХрж░рзЗ ржирж╛ (401 error)

---

## ЁЯФД рждрж┐ржиржЯрж┐ рж╕рж┐ржирж╛рж░рж┐ржУ

### ржкрж░рж┐рж╕рзНржерж┐рждрж┐ 1: ржмрзНрж▓ржЧ ржкрзЛрж╕рзНржЯ ржкржбрж╝рждрзЗ ржЪрж╛ржЗ (рж╕ржмрж╛рж░ ржЬржирзНржп)
```bash
curl http://localhost:5000/api/v1/public/posts
тЬЕ ржХрж╛ржЬ ржХрж░рзЗ - ржХрзЛржи рж▓ржЧржЗржи ржкрзНрж░ржпрж╝рзЛржЬржи ржирзЗржЗ
```

### ржкрж░рж┐рж╕рзНржерж┐рждрж┐ 2: ржирждрзБржи ржкрзЛрж╕рзНржЯ рж▓рж┐ржЦрждрзЗ ржЪрж╛ржЗ (рж▓ржЧржЗржи ржХрж░рж╛рж░ ржкрж░рзЗ)
```bash
curl -X POST http://localhost:5000/api/v1/dashboard/posts \
  -H "Authorization: Bearer TOKEN" \
  -H "Content-Type: application/json" \
  -d '{"title":"ржЖржорж╛рж░ ржкрзЛрж╕рзНржЯ"}'
тЬЕ ржХрж╛ржЬ ржХрж░рзЗ - TOKEN ржПрж░ рж╕рж╛ржерзЗ
```

### ржкрж░рж┐рж╕рзНржерж┐рждрж┐ 3: ржкрж╛ржмрж▓рж┐ржХ рж░рзБржЯрзЗ ржкрзЛрж╕рзНржЯ рж▓рзЗржЦрж╛рж░ ржЪрзЗрж╖рзНржЯрж╛ ржХрж░рж┐
```bash
curl -X POST http://localhost:5000/api/v1/public/posts
тЭМ 405 Error - "Use /api/v1/dashboard instead"
```

---

## ЁЯУЛ рж░рзБржЯрж┐ржВ ржЯрзЗржмрж┐рж▓

| ржХрж╛ржЬ | ржкрзБрж░ржирзЛ ржорж┐ржбрж▓ржУржпрж╝рзНржпрж╛рж░ | ржирждрзБржи ржЧржаржи |
|-----|---|---|
| ржкрзЛрж╕рзНржЯ ржкржбрж╝рж╛ | ржкрзНрж░рждрж┐ржЯрж┐ рж░рзБржЯрзЗ | `/public/*` (GET) |
| ржкрзЛрж╕рзНржЯ рж▓рзЗржЦрж╛ | ржкрзНрж░рждрж┐ржЯрж┐ рж░рзБржЯрзЗ | `/dashboard/*` (TOKEN) |
| ржкрзЛрж╕рзНржЯ ржЖржкржбрзЗржЯ | ржкрзНрж░рждрж┐ржЯрж┐ рж░рзБржЯрзЗ | `/dashboard/*` (TOKEN) |
| ржкрзЛрж╕рзНржЯ ржбрж┐рж▓рж┐ржЯ | ржкрзНрж░рждрж┐ржЯрж┐ рж░рзБржЯрзЗ | `/dashboard/*` (TOKEN) |

---

## ЁЯФР рж╕рж┐ржХрж┐ржЙрж░рж┐ржЯрж┐ ржоржбрзЗрж▓

```plaintext
Request ржЖрж╕ржЫрзЗ
    тФВ
    тФЬтФА GET? 
    тФВ   тФЬтФА /public/* тЖТ тЬЕ ржЧрзНрж░рж╣ржг ржХрж░рзЛ
    тФВ   тФФтФА /dashboard/* тЖТ тЬЕ ржЧрзНрж░рж╣ржг ржХрж░рзЛ
    тФВ
    тФФтФА POST/PATCH/DELETE?
        тФЬтФА /public/* тЖТ тЭМ 405 ржЕрж╕рзНржмрзАржХрж╛рж░ ржХрж░рзЛ
        тФФтФА /dashboard/* 
            тФЬтФА TOKEN ржЖржЫрзЗ? 
            тФВ   тФЬтФА Valid? тЖТ тЬЕ ржЧрзНрж░рж╣ржг ржХрж░рзЛ
            тФВ   тФФтФА Invalid? тЖТ тЭМ 401 ржЕрж╕рзНржмрзАржХрж╛рж░ ржХрж░рзЛ
            тФФтФА TOKEN ржирзЗржЗ? тЖТ тЭМ 401 ржЕрж╕рзНржмрзАржХрж╛рж░ ржХрж░рзЛ
```

---

## ЁЯСитАНЁЯТ╗ ржлрзНрж░ржирзНржЯржПржирзНржб ржбрзЗржнрзЗрж▓ржкрж╛рж░ржжрзЗрж░ ржЬржирзНржп

### ржмрзНрж▓ржЧ ржкрзЛрж╕рзНржЯ ржжрзЗржЦрж╛рждрзЗ:
```javascript
// ржкрж╛ржмрж▓рж┐ржХ - ржХрзЛржи AUTH ржкрзНрж░ржпрж╝рзЛржЬржи ржирзЗржЗ
fetch('http://localhost:5000/api/v1/public/posts')
```

### ржирждрзБржи ржкрзЛрж╕рзНржЯ ржпрзЛржЧ ржХрж░рждрзЗ:
```javascript
// рж╕рзБрж░ржХрзНрж╖рж┐ржд - TOKEN ржкрзНрж░ржпрж╝рзЛржЬржи
const token = localStorage.getItem('token');
fetch('http://localhost:5000/api/v1/dashboard/posts', {
  method: 'POST',
  headers: {
    'Authorization': `Bearer ${token}`,
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({title:'ржирждрзБржи ржкрзЛрж╕рзНржЯ'})
})
```

---

## ЁЯМР рж╕ржорзНржкрзВрж░рзНржг ржПржирзНржбржкржпрж╝рзЗржирзНржЯ рждрж╛рж▓рж┐ржХрж╛

### ЁЯФУ ржкрж╛ржмрж▓рж┐ржХ (ржЕржХрзЛржи рж▓ржЧржЗржи)
```
GET /api/v1/public/biography
GET /api/v1/public/books
GET /api/v1/public/downloads
GET /api/v1/public/forum/stats
GET /api/v1/public/forum/posts
GET /api/v1/public/forum/comments
GET /api/v1/public/forum/categories
GET /api/v1/public/gallery
GET /api/v1/public/news
GET /api/v1/public/posts
GET /api/v1/public/sayings
GET /api/v1/public/settings
GET /api/v1/public/opinions
```

### ЁЯФТ рж╕рзБрж░ржХрзНрж╖рж┐ржд (TOKEN ржкрзНрж░ржпрж╝рзЛржЬржи)
```
POST/PATCH /api/v1/dashboard/biography
POST/PATCH/DELETE /api/v1/dashboard/books
POST/PATCH/DELETE /api/v1/dashboard/downloads
POST/PATCH/DELETE /api/v1/dashboard/forum/*
POST/PATCH/DELETE /api/v1/dashboard/gallery
POST/PATCH/DELETE /api/v1/dashboard/news
POST/PATCH/DELETE /api/v1/dashboard/posts
POST/PATCH/DELETE /api/v1/dashboard/sayings
PATCH /api/v1/dashboard/settings
GET/POST/PATCH/DELETE /api/v1/dashboard/users

GET /api/v1/members (admin ржжрзЗрж░ ржЬржирзНржп)
POST /api/v1/auth/login
POST /api/v1/auth/register
```

---

## тЬЕ рж╕рзБржмрж┐ржзрж╛

| рж╕рзБржмрж┐ржзрж╛ | ржмрзНржпрж╛ржЦрзНржпрж╛ |
|---|---|
| ЁЯОп **рж╕рзНржкрж╖рзНржЯ** | ржХрзЛржерж╛ржпрж╝ ржкржбрж╝ржм, ржХрзЛржерж╛ржпрж╝ рж▓рж┐ржЦржм - ржкрж░рж┐рж╖рзНржХрж╛рж░ |
| ЁЯФТ **ржирж┐рж░рж╛ржкржж** | ржкрж╛ржмрж▓рж┐ржХ рж░рзБржЯрзЗ рж▓рзЗржЦрж╛ ржпрж╛ржпрж╝ ржирж╛ |
| ЁЯУЪ **рж╕ржВржЧржарж┐ржд** | ржПржХржЗ ржзрж░ржирзЗрж░ рж░рзБржЯрж╕ ржПржХрж╕рж╛ржерзЗ |
| тЪб **ржжрзНрж░рзБржд** | ржорж┐ржбрж▓ржУржпрж╝рзНржпрж╛рж░ ржПржХржмрж╛рж░ apply рж╣ржпрж╝ |
| ЁЯЪА **рж╕рзНржХрзЗрж▓рзЗржмрж▓** | ржирждрзБржи ржлрж┐ржЪрж╛рж░ ржпрзЛржЧ ржХрж░рж╛ рж╕рж╣ржЬ |

---

## ЁЯЪА ржПржЯрж┐ржЗ!

ржПржЦржи ржЖржкржирж╛рж░ API рж╕ржВржЧржарж┐ржд ржПржмржВ ржирж┐рж░рж╛ржкржж:

тЬЕ рж╕ржмрж╛ржЗ ржжрзЗржЦрждрзЗ ржкрж╛рж░рзЗ (`/public`)  
тЬЕ рж╢рзБржзрзБ рж▓ржЧржЗржи ржХрж░рж╛ ржорж╛ржирзБрж╖ рж▓рж┐ржЦрждрзЗ ржкрж╛рж░рзЗ (`/dashboard`)  
тЬЕ ржлрзНрж░ржирзНржЯржПржирзНржб ржЬрж╛ржирзЗ ржХрзЛржерж╛ржпрж╝ ржпрзЗрждрзЗ рж╣ржмрзЗ  

ржмрзЗрж╢рж┐ ржмрж┐рж╕рзНрждрж╛рж░рж┐ржд ржЬрж╛ржирж╛рж░ ржЬржирзНржп `ROUTE_STRUCTURE.md` ржкржбрж╝рзБржи!

